library(tidyjson)
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="test", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
View(tweets)
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets_test", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
View(tweets)
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
tweets <- documents %>% as.tbl_json %>%  spread_all
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size, encoding="UTF-8")
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str.replace("\'", "\""))
}
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, gsub("\'", "\"", str))
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% gsub("\'", "\"") %>% as.tbl_json %>%  spread_all
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*1.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", readChar(file, file.info(file)$size))
documents <- c(documents, str)
}
View(documents)
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets_test", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", readChar(file, file.info(file)$size))
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets_test", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="", pattern="0.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str)
}
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="test", pattern="0.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="test", pattern="1.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="test", pattern="0.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="test", pattern="0.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="test", pattern="0.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="test", pattern="0.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="test", pattern="0.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
tweets <- documents %>% as.tbl_json %>%  spread_all
documents %>% as.character
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="test", pattern="0.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- readChar(file, file.info(file)$size)
documents <- c(documents, str)
}
documents %>% as.character
documents %>% as.character %>% as.tbl_json
documents %>% as.character
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="0.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", gsub(""\"", "", readChar(file, file.info(file)$size)))
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="0.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", gsub("\"", "", readChar(file, file.info(file)$size)))
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
documents %>% as.character
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="test", pattern="0.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", gsub("\"", "", readChar(file, file.info(file)$size)))
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
documents %>% as.character
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="test", pattern="0.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", gsub("\"", "", gsub("None", "null", readChar(file, file.info(file)$size))))
documents <- c(documents, str)
}
documents %>% as.character
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="test", pattern="0.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", gsub("\"", "", gsub("None", "NULL", readChar(file, file.info(file)$size))))
documents <- c(documents, str)
}
documents %>% as.character
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="test", pattern="0.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", gsub("\"", "", gsub("False", "FALSE", readChar(file, file.info(file)$size))))
documents <- c(documents, str)
}
documents %>% as.character
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="test", pattern="0.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("False", "\'FALSE\'", gsub("\'", "\"", gsub("\"", "", readChar(file, file.info(file)$size))))
documents <- c(documents, str)
}
documents %>% as.character
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="test", pattern="0.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("False", "\"FALSE\"", gsub("\'", "\"", gsub("\"", "", readChar(file, file.info(file)$size))))
documents <- c(documents, str)
}
documents %>% as.character
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="test", pattern="0.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", gsub("\"", "", readChar(file, file.info(file)$size)))
str <- gsub("False", "\"FALSE\"", gsub("True", "\"TRUE\"", gsub("None", "\"NULL\"", str)))
documents <- c(documents, str)
}
documents %>% as.character
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", gsub("\"", "", readChar(file, file.info(file)$size)))
str <- gsub("False", "\"FALSE\"", gsub("True", "\"TRUE\"", gsub("None", "\"NULL\"", str)))
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
documents[grepl("zoo", names(documents))]
documents[grepl("zoo")]
documents[grepl("zoo", documents)]
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", gsub("\"", "", gsub("\': \"", "\': \'", readChar(file, file.info(file)$size))))
str <- gsub("False", "\"FALSE\"", gsub("True", "\"TRUE\"", gsub("None", "\"NULL\"", str)))
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
documents[grepl("Ultimate Despair", documents)]
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", gsub("\"", "", gsub("\': \"", "\': \'", gsub("\", \'", "\', \'", readChar(file, file.info(file)$size)))))
str <- gsub("False", "\"FALSE\"", gsub("True", "\"TRUE\"", gsub("None", "\"NULL\"", str)))
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
documents[grepl("Ultimate Despair", documents)]
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("I\"", "I\'", gsub("\'", "\"", gsub("\"", "", gsub("\': \"", "\': \'", gsub("\", \'", "\', \'", readChar(file, file.info(file)$size))))))
str <- gsub("False", "\"FALSE\"", gsub("True", "\"TRUE\"", gsub("None", "\"NULL\"", str)))
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
documents[grepl("manager, Guest ", documents)]
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", gsub("\'.*\".*\'", "\'.*\\\".*\'", readChar(file, file.info(file)$size)))
str <- gsub("False", "\"FALSE\"", gsub("True", "\"TRUE\"", gsub("None", "\"NULL\"", str)))
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
documents[grepl("\".*\".*", documents)]
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", gsub("\'.*\".*\'", "\'\'", readChar(file, file.info(file)$size)))
str <- gsub("False", "\"FALSE\"", gsub("True", "\"TRUE\"", gsub("None", "\"NULL\"", str)))
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\"", "\'", gsub("\': \'.*\".*\'", "\': \'\'", gsub("\': \".*\'.*\"", "\': \"\"", readChar(file, file.info(file)$size))))
str <- gsub("False", "\"FALSE\"", gsub("True", "\"TRUE\"", gsub("None", "\"NULL\"", str)))
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
documents[grepl("'created_at': ''", documents)]
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\"", "\'", gsub("\': \'.*?\".*?\'", "\': \'\'", gsub("\': \".*?\'.*?\"", "\': \"\"", readChar(file, file.info(file)$size))))
str <- gsub("False", "\"FALSE\"", gsub("True", "\"TRUE\"", gsub("None", "\"NULL\"", str)))
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
documents[grepl("'created_at': '', 'truncated':", documents)]
tweets <- documents %>% as.character %>% tryCatch({as.tbl_json}, error=function(cond) {message(cond)}) %>%  spread_all
tweets <- documents %>% as.character %>% tryCatch({as.tbl_json}, error=function(cond) {message(cond)}) %>%  spread_all
tweets <- documents %>% as.character %>% tryCatch({as.tbl_json}, error=function(cond) {message("cond")}) %>%  spread_all
documents[0]
documents[1]
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", gsub("\': \'.*?\".*?\'", "\': \'\'", gsub("\': \".*?\'.*?\"", "\': \"\"", readChar(file, file.info(file)$size))))
str <- gsub("False", "\"FALSE\"", gsub("True", "\"TRUE\"", gsub("None", "\"NULL\"", str)))
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
documents[grepl("1954306194, \"id_str\", documents)]
documents[grepl("1954306194, \"id_str\", documents")]
documents[grepl("1954306194, \"id_str", documents)]
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", gsub(" \': \'.*?\".*?\' ", " \': \'\' ", gsub(" \': \".*?\'.*?\" ", " \': \"\" ", readChar(file, file.info(file)$size))))
str <- gsub("False", "\"FALSE\"", gsub("True", "\"TRUE\"", gsub("None", "\"NULL\"", str)))
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
documents[grepl("essxlz\", \"source\":", documents)]
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", gsub("\': \'[^\']*\"[^\']*'", "\': \'\'", gsub("\': \"[^\"]*\'[^\"]*\"", "\': \"\"", readChar(file, file.info(file)$size))))
str <- gsub("False", "\"FALSE\"", gsub("True", "\"TRUE\"", gsub("None", "\"NULL\"", str)))
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
documents[grepl("0NÃ¡Â´â‚¬Ã¡Â´", documents)]
documents[grepl("tion": "IÃ", documents)]
documents[grepl("tion": "I", documents)]
documents[grepl("tion\": \"I", documents)]
documents[grepl("tion\": \"I", documents)]
documents[grepl("tion\": \"IÃ‰", documents)]
documents[grepl("\xa0", documents)]
documents[grepl("\xa0NÃ¡Â", documents)]
documents[grepl("\xa0NÃ", documents)]
documents[grepl("\xa0N", documents)]
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", gsub("\': \'[^\']*\"[^\']*'", "\': \'\'", gsub("\': \"[^\"]*\'[^\"]*\"", "\': \"\"", gsub("\\", "", readChar(file, file.info(file)$size)))))
str <- gsub("False", "\"FALSE\"", gsub("True", "\"TRUE\"", gsub("None", "\"NULL\"", str)))
documents <- c(documents, str)
}
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", gsub("\': \'[^\']*\"[^\']*'", "\': \'\'", gsub("\': \"[^\"]*\'[^\"]*\"", "\': \"\"", gsub("\", "", readChar(file, file.info(file)$size)))))
str <- gsub("False", "\"FALSE\"", gsub("True", "\"TRUE\"", gsub("None", "\"NULL\"", str)))
#document <- fromJSON(txt="tweets_small/0.txt")
files <- list.files(path="tweets", pattern="*.txt", full.names=TRUE, recursive=FALSE)
documents <- list()
for (file in files) {
str <- gsub("\'", "\"", gsub("\': \'[^\']*\"[^\']*'", "\': \'\'", gsub("\': \"[^\"]*\'[^\"]*\"", "\': \"\"", gsub("\\\\", "", readChar(file, file.info(file)$size)))))
str <- gsub("False", "\"FALSE\"", gsub("True", "\"TRUE\"", gsub("None", "\"NULL\"", str)))
documents <- c(documents, str)
}
tweets <- documents %>% as.character %>% as.tbl_json %>%  spread_all
documents[grepl("4323288614359041", documents)]
